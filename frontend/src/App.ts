export class App {
    private container: HTMLElement | null = null

    mount(selector: string): void {
        this.container = document.querySelector(selector)

        if (!this.container) {
            throw new Error(`Container ${selector} not found`)
        }

        this.render()
    }

    private render(): void {
        if (!this.container) return

        this.container.innerHTML = `
<header class="app-header">
	<nav class="nav">
		<h1>
			<a href="/" data-route>
				<svg class="logo" width="184" height="42" viewBox="0 0 184 42" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M18.5449 24.9668C18.5449 25.1426 18.5286 25.3737 18.4961 25.6602C18.4635 25.9401 18.3659 26.2428 18.2031 26.5684C18.0404 26.8939 17.7702 27.2194 17.3926 27.5449C17.0215 27.8639 16.4974 28.1569 15.8203 28.4238C15.1497 28.6908 14.2871 28.9056 13.2324 29.0684C12.1842 29.2311 10.8952 29.3125 9.36523 29.3125C8.13477 29.3125 6.9694 29.2539 5.86914 29.1367C4.76888 29.0195 3.79557 28.8145 2.94922 28.5215C2.10286 28.2285 1.43555 27.8249 0.947266 27.3105C0.465495 26.7897 0.224609 26.1289 0.224609 25.3281H4.69727C4.69727 25.6536 4.80794 25.9206 5.0293 26.1289C5.25065 26.3307 5.53711 26.4902 5.88867 26.6074C6.24674 26.7181 6.63411 26.7995 7.05078 26.8516C7.46745 26.9036 7.8776 26.9362 8.28125 26.9492C8.69141 26.9557 9.05273 26.959 9.36523 26.959C10.3874 26.959 11.2174 26.9069 11.8555 26.8027C12.5 26.6921 12.998 26.5456 13.3496 26.3633C13.7077 26.181 13.9518 25.9694 14.082 25.7285C14.2188 25.4876 14.2871 25.2337 14.2871 24.9668C14.2871 24.6022 14.0853 24.3288 13.6816 24.1465C13.2845 23.9642 12.7148 23.834 11.9727 23.7559C11.2305 23.6712 10.3385 23.6061 9.29688 23.5605C9.01693 23.5475 8.74023 23.5345 8.4668 23.5215C7.57487 23.4824 6.71875 23.4336 5.89844 23.375C5.07812 23.3164 4.32292 23.222 3.63281 23.0918C2.94271 22.9551 2.34049 22.7598 1.82617 22.5059C1.31185 22.252 0.911458 21.9167 0.625 21.5C0.338542 21.0768 0.195312 20.5397 0.195312 19.8887C0.195312 19.7129 0.211589 19.485 0.244141 19.2051C0.276693 18.9186 0.374349 18.6126 0.537109 18.2871C0.69987 17.9616 0.966797 17.6393 1.33789 17.3203C1.71549 16.9948 2.23958 16.6986 2.91016 16.4316C3.58724 16.1647 4.44987 15.9499 5.49805 15.7871C6.55273 15.6243 7.8418 15.543 9.36523 15.543C10.6022 15.543 11.7708 15.6016 12.8711 15.7188C13.9714 15.8359 14.9414 16.041 15.7812 16.334C16.6276 16.627 17.2949 17.0339 17.7832 17.5547C18.2715 18.069 18.5156 18.7266 18.5156 19.5273H14.0332C14.0332 19.2018 13.9225 18.9382 13.7012 18.7363C13.4863 18.528 13.1999 18.3652 12.8418 18.248C12.4902 18.1309 12.1061 18.0495 11.6895 18.0039C11.2728 17.9518 10.8594 17.9225 10.4492 17.916C10.0391 17.903 9.67773 17.8965 9.36523 17.8965C8.34961 17.8965 7.51953 17.9518 6.875 18.0625C6.23698 18.1667 5.73893 18.3099 5.38086 18.4922C5.0293 18.6745 4.78516 18.8861 4.64844 19.127C4.51823 19.3678 4.45312 19.6217 4.45312 19.8887C4.45312 20.2533 4.65169 20.5267 5.04883 20.709C5.45247 20.8913 6.02539 21.0215 6.76758 21.0996C7.50977 21.1777 8.40169 21.2396 9.44336 21.2852C9.72331 21.3047 10 21.3177 10.2734 21.3242C11.1654 21.3633 12.0215 21.4154 12.8418 21.4805C13.6621 21.5391 14.4173 21.6335 15.1074 21.7637C15.7975 21.8939 16.3997 22.0859 16.9141 22.3398C17.4284 22.5938 17.8288 22.9323 18.1152 23.3555C18.4017 23.7786 18.5449 24.3158 18.5449 24.9668ZM28.8574 29.3125C25.7389 29.3125 23.4147 28.7884 21.8848 27.7402C20.3548 26.6921 19.5898 25.097 19.5898 22.9551V15.875H23.584V22.4082C23.584 23.1764 23.724 23.8014 24.0039 24.2832C24.2839 24.7585 24.6387 25.1328 25.0684 25.4062C25.498 25.6732 25.9538 25.8652 26.4355 25.9824C26.9238 26.0996 27.3828 26.1712 27.8125 26.1973C28.2487 26.2168 28.597 26.2266 28.8574 26.2266C29.1178 26.2266 29.4629 26.2168 29.8926 26.1973C30.3288 26.1712 30.7878 26.0996 31.2695 25.9824C31.7578 25.8652 32.2168 25.6732 32.6465 25.4062C33.0762 25.1328 33.431 24.7585 33.7109 24.2832C33.9909 23.8014 34.1309 23.1764 34.1309 22.4082V15.875H38.125V22.9551C38.125 25.097 37.36 26.6921 35.8301 27.7402C34.3001 28.7884 31.9759 29.3125 28.8574 29.3125ZM53.4082 15.875C54.2806 15.875 55.0749 16.0898 55.791 16.5195C56.5072 16.9427 57.0768 17.5124 57.5 18.2285C57.9297 18.9447 58.1445 19.7389 58.1445 20.6113C58.1445 21.4837 57.9297 22.2812 57.5 23.0039C57.0768 23.7201 56.5072 24.2897 55.791 24.7129C55.0749 25.1361 54.2806 25.3477 53.4082 25.3477H44.4727V29H40.4688V15.875H40.6445H44.4727H53.4082ZM52.3145 22.4375C52.8158 22.4375 53.2454 22.2585 53.6035 21.9004C53.9616 21.5423 54.1406 21.1126 54.1406 20.6113C54.1406 20.11 53.9616 19.6803 53.6035 19.3223C53.2454 18.9642 52.8158 18.7852 52.3145 18.7852H44.4727V22.4375H52.3145ZM75.7324 18.502H63.5156V21.1777H75.7324V23.6875H63.5156V26.3633H75.7324V29H59.5117V15.875H75.7324V18.502ZM95.8691 20.6113C95.8691 21.627 95.5827 22.5319 95.0098 23.3262C94.4434 24.1204 93.7044 24.6934 92.793 25.0449L95.8691 29H91.6406L89.0039 25.3477H82.1973V29H78.1836V15.875H78.3691H82.1973H91.1328C92.0052 15.875 92.7995 16.0898 93.5156 16.5195C94.2318 16.9427 94.8014 17.5124 95.2246 18.2285C95.6543 18.9447 95.8691 19.7389 95.8691 20.6113ZM82.1973 18.7852V22.4375H90.0391C90.5404 22.4375 90.9668 22.2585 91.3184 21.9004C91.6764 21.5423 91.8555 21.1126 91.8555 20.6113C91.8555 20.11 91.6764 19.6803 91.3184 19.3223C90.9668 18.9642 90.5404 18.7852 90.0391 18.7852H82.1973ZM110.4 15.875C111.273 15.875 112.067 16.0898 112.783 16.5195C113.499 16.9427 114.069 17.5124 114.492 18.2285C114.922 18.9447 115.137 19.7389 115.137 20.6113C115.137 21.4837 114.922 22.2812 114.492 23.0039C114.069 23.7201 113.499 24.2897 112.783 24.7129C112.067 25.1361 111.273 25.3477 110.4 25.3477H101.465V29H97.4609V15.875H97.6367H101.465H110.4ZM109.307 22.4375C109.808 22.4375 110.238 22.2585 110.596 21.9004C110.954 21.5423 111.133 21.1126 111.133 20.6113C111.133 20.11 110.954 19.6803 110.596 19.3223C110.238 18.9642 109.808 18.7852 109.307 18.7852H101.465V22.4375H109.307ZM163.418 29H158.174L148.828 18.541V29H144.824V15.875H151.504L159.404 25.0547V15.875H163.418V29ZM174.238 21.8809H180.283H183.369V28.9512H181.191L180.957 27.0762C179.512 28.5671 177.311 29.3125 174.355 29.3125C171.243 29.3125 168.926 28.7591 167.402 27.6523C165.879 26.5456 165.117 24.9245 165.117 22.7891V22.0664C165.117 19.931 165.879 18.3099 167.402 17.2031C168.926 16.0964 171.243 15.543 174.355 15.543C176.986 15.543 179.046 15.9434 180.537 16.7441C182.035 17.5384 182.979 18.707 183.369 20.25H179.102C178.815 19.8073 178.457 19.4622 178.027 19.2148C177.604 18.9609 177.158 18.7819 176.689 18.6777C176.221 18.5671 175.778 18.502 175.361 18.4824C174.945 18.4564 174.609 18.4434 174.355 18.4434C174.095 18.4434 173.747 18.4564 173.311 18.4824C172.881 18.502 172.425 18.5703 171.943 18.6875C171.462 18.8047 171.006 18.9967 170.576 19.2637C170.146 19.5306 169.792 19.9049 169.512 20.3867C169.238 20.8685 169.102 21.487 169.102 22.2422V22.6133C169.102 23.3685 169.238 23.987 169.512 24.4688C169.792 24.9505 170.146 25.3249 170.576 25.5918C171.006 25.8587 171.462 26.0508 171.943 26.168C172.425 26.2852 172.881 26.3568 173.311 26.3828C173.747 26.4023 174.095 26.4121 174.355 26.4121C174.629 26.4121 175 26.3991 175.469 26.373C175.938 26.3405 176.426 26.2559 176.934 26.1191C177.448 25.9759 177.923 25.7415 178.359 25.416C178.796 25.0905 179.128 24.638 179.355 24.0586H174.238V21.8809Z" fill="#07080A"/>
					<line class="logo-line" x1="20" y1="2" x2="58" y2="2" stroke="#07080A" stroke-width="4"/>
					<circle class="logo-circle" cx="129" cy="33" r="9" fill="#07080A"/>
				</svg>
			</a>
		</h1>
		<ul class="nav-links">
			<li><a href="/" data-route>Accueil</a></li>
			<li><a href="/game" data-route>Jouer</a></li>
			<li><a href="/tournament" data-route>Tournoi</a></li>
		</ul>
		<div class="auth-buttons">
			<a href="/login" class="btn btn-secondary" data-route>Connexion</a>
		</div>
	</nav>
</header>

<main class="app-main" id="page-content">
	<!-- Le contenu des pages sera injecté ici -->
</main>

<div class="scrolling-banner">
	<div class="banner-content">
		<span>Super Pong  • Ecole 42  • Transcendence • 2025</span>
		<span>Super Pong  •  Ecole 42  •  Transcendence • 2025</span>
		<span>Super Pong  •  Ecole 42  •  Transcendence • 2025</span>
	</div>
</div>

<footer class="app-footer">
	<p>Transcendencé par :  sviallon - emmmarti</p>
</footer>
        `

        this.addStyles()
    }

    private addStyles(): void {
        const style = document.createElement('style')
        style.textContent = `
			.app-header {
				background:  var(--bg-header);
				padding: 1rem;
				position: fixed;
				top: 0;
				left: 0;
				right: 0;
				z-index: 1000;
				}

			.logo {
				height: 40px;
				width: auto;
				display: block;
				filter: brightness(0) invert(1);
				}

			.logo-line {
				transition: transform 0.3s ease;
				}

			.logo:hover .logo-line {
				transform: translateX(20px);
				}

			.logo-circle {
				transition: transform 0.3s ease;
				}

			.logo:hover .logo-circle {
				transform: translateY(-10px);
				}

			.nav {
				display: grid;
				grid-template-columns: 1fr auto 1fr;
				font-family: 'Inter', 'Arial', monospace;
				align-items: center;
				max-width: 1400px;
				margin: 0 auto;
				}

			.nav h1 {
				margin: 0;
				line-height: 0;
				}

			.nav-links {
				display: flex;
				list-style: none;
				gap: 2rem;
				}

			.nav-links a {
				color: #fff;
				text-decoration: none;
				padding: 0.8rem 0;
				position: relative;
			}

			.nav-links a::after {
				content: '';
				position: absolute;
				bottom: 0;
				left: 0;
				width: 0;
				height: 1px;
				background: #fff;
				transition: width 0.3s ease;
				}

			.nav-links a:hover::after {
				width: 100%;
				}

			.auth-buttons {
				display: flex;
				gap: 1rem;
				justify-self: end;
				}

			.app-main {
				flex: 1;
				padding: 2rem;
				margin: 0 auto;
				width: 100%;
				padding-top: calc(2rem + 72px);
				}

			.scrolling-banner {
				background: var(--bg-banner);
				font-family: 'akira', 'Arial', monospace;
				color: #fff;
				padding: 10px 0;
				overflow: hidden;
				position: relative;
				border-top: 1px dashed white;
				border-bottom: 1px dashed black;
				display: flex;
				align-items: center;
			}

			.banner-content {
				display: flex;
				animation: scroll-continu 20s linear infinite;
				white-space: nowrap;
			}

			.banner-content span {
				padding: 0 50px;
				font-size: 1.5rem;
				font-weight: 500;
				display: inline-block;
			}

			@keyframes scroll-continu {
				0% {
					transform: translateX(0);
				}
				100% {
					transform: translateX(-33.33%);
				}
			}

			.app-footer {
				background: var(--bg-footer);
				padding: 1rem;
				color: #888;
				display: grid;
				text-align: center;
			}
        `
        document.head.appendChild(style)
    }
}
